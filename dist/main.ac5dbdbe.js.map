{"version":3,"sources":["src/ts/main.ts"],"names":[],"mappings":"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","file":"main.ac5dbdbe.js","sourceRoot":"..","sourcesContent":["const app = document.querySelector(\"#app\");\r\nconst inputEl = (id: string, leftBorder: boolean, topBorder: boolean) =>\r\n  `<input type=\"text\" id=\"${id}\" class=\"${\r\n    (leftBorder ? \"left\" : \"\") + (topBorder ? \" top\" : \"\")\r\n  }\" />`;\r\n\r\nconst output = (extraClass: string) =>\r\n  `<input class=\"output ${extraClass}\" value=\"0\" readonly />`;\r\n\r\nlet html = \"<div>\";\r\nhtml += output(\"blank-output\");\r\nfor (let i = 0; i < 9; i++) {\r\n  html += output(\"col-output\");\r\n}\r\nhtml += \"</div>\";\r\n\r\nfor (let i = 0; i < 9; i++) {\r\n  html += \"<div>\";\r\n  html += output(\"row-output\");\r\n  for (let j = 0; j < 9; j++) {\r\n    html += inputEl(`${i},${j}`, j % 3 === 0, i % 3 === 0);\r\n  }\r\n  html += \"</div>\";\r\n}\r\n\r\nhtml += '<button id=\"go\">Go</button>';\r\n\r\napp.innerHTML += html;\r\n\r\ninterface Number_ {\r\n  value: number;\r\n  row: number;\r\n  col: number;\r\n}\r\n\r\nconst getRows = (numbers: Number_[]) => {\r\n  const rows: number[][] = [];\r\n  for (let i = 0; i < numbers.length; i++) {\r\n    const number = numbers[i];\r\n    const { row } = number;\r\n    const value = number.value || 0;\r\n    rows[row] instanceof Array ? rows[row].push(value) : (rows[row] = [value]);\r\n  }\r\n  return rows;\r\n};\r\n\r\nconst getCols = (numbers: Number_[]) => {\r\n  const cols: number[][] = [];\r\n  for (let i = 0; i < numbers.length; i++) {\r\n    const number = numbers[i];\r\n    const { col } = number;\r\n    const value = number.value || 0;\r\n    cols[col] instanceof Array ? cols[col].push(value) : (cols[col] = [value]);\r\n  }\r\n  return cols;\r\n};\r\n\r\nconst sandwichSum = (arr: number[]) => {\r\n  const oneIndex = arr.indexOf(1);\r\n  const nineIndex = arr.indexOf(9);\r\n  const middleNumbers =\r\n    oneIndex < nineIndex\r\n      ? arr.slice(oneIndex + 1, nineIndex)\r\n      : arr.slice(nineIndex + 1, oneIndex);\r\n  try {\r\n    return middleNumbers.reduce((acc, val) => acc + val);\r\n  } catch (err) {\r\n    return 0;\r\n  }\r\n};\r\n\r\nconst getInputs = (selector: string) => {\r\n  return [...document.querySelectorAll(selector)] as HTMLInputElement[];\r\n};\r\n\r\ndocument.querySelector(\"#go\").addEventListener(\"click\", () => {\r\n  // Collect data\r\n  const numbers: Number_[] = [...document.querySelectorAll(\"input\")].map(\r\n    input => {\r\n      const { value, id } = input;\r\n      const [row, col] = id.split(\",\");\r\n      return {\r\n        value: parseInt(value),\r\n        row: parseInt(row),\r\n        col: parseInt(col),\r\n      };\r\n    },\r\n  );\r\n\r\n  // Sum rows\r\n  const rows = getRows(numbers);\r\n  const rowSums = rows.map(row => sandwichSum(row));\r\n  // Sum cols\r\n  const cols = getCols(numbers);\r\n  const colSums = cols.map(col => sandwichSum(col));\r\n  // Display results\r\n  const rowOutputs = getInputs(\".output.row-output\");\r\n  const colOutputs = getInputs(\".output.col-output\");\r\n  for (let i = 0; i < rowSums.length; i++) {\r\n    const sum = rowSums[i];\r\n    const output = rowOutputs[i];\r\n    output.value = `${sum}`;\r\n  }\r\n  for (let i = 0; i < colSums.length; i++) {\r\n    const sum = colSums[i];\r\n    const output = colOutputs[i];\r\n    output.value = `${sum}`;\r\n  }\r\n  // Clear inputs\r\n  getInputs(\"input:not(.output)\").forEach(input => (input.value = \"\"));\r\n});\r\n\r\ndocument.addEventListener(\"keypress\", e => {\r\n  const { key } = e;\r\n  const isNumber = !isNaN(parseInt(key));\r\n  if (isNumber) {\r\n    const inputs = getInputs(\"input:not(.output)\") as HTMLElement[];\r\n    const focused = document.activeElement as HTMLElement;\r\n    const index = inputs.indexOf(focused);\r\n    if (index != -1) {\r\n      const toFocus = inputs[index + 1];\r\n      if (toFocus) {\r\n        toFocus.focus();\r\n      }\r\n    }\r\n  }\r\n});\r\n"]}